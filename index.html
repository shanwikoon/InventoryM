<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Inventory Management Challenge</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 900px;
            margin: 0 auto;
            padding: 20px;
            background-color: #f0f0f0;
        }
        #game-container {
            background-color: white;
            padding: 30px;
            border-radius: 10px;
            box-sizing: border-box;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            overflow: hidden;
        }
        h1, h2 {
            text-align: center;
            margin-bottom: 30px;
        }
        h1 {
            color: #2E8B57;
        }
        h2 {
            color: #DC143C;
        }
        #metrics-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 40px;
        }
        #metrics-table th, #metrics-table td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: center;
        }
        #metrics-table th {
            background-color: #2E8B57;
            color: white;
        }
        #choices button {
            padding: 10px;
            margin: 10px 0;
            width: 100%;
            box-sizing: border-box;
            font-size: 1em;
            cursor: pointer;
            border: none;
            border-radius: 5px;
            background-color: #2E8B57;
            color: white;
        }
        #choices button:hover {
            background-color: #246B48;
        }
        #feedback {
            margin-bottom: 40px;
            font-style: italic;
            background-color: #f9f9f9;
            padding: 15px;
            border-left: 5px solid #2E8B57;
        }
        #question {
            font-size: 1.2em;
            font-weight: bold;
            margin-bottom: 20px;
        }
        ul {
            list-style-type: disc;
            margin-left: 20px;
        }
        #startButton {
            padding: 15px;
            font-size: 1.1em;
            background-color: #2E8B57;
            color: white;
            border: none;
            cursor: pointer;
            border-radius: 5px;
        }
        #startButton:hover {
            background-color: #246B48;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h2>Inventory Management Challenge</h2>
        <h1>Optimize Your Factory's Performance</h1>
        <p>As the Operations Manager, make strategic decisions to balance inventory costs, maintain production flow, and keep customers satisfied. Every choice impacts your factory's success!</p>
        
        <table id="metrics-table">
            <tr>
                <th>Inventory Costs (£)</th>
                <th>Production Flow</th>
                <th>Customer Satisfaction</th>
                <th>Score</th>
            </tr>
            <tr>
                <td id="inventoryCosts">£0</td>
                <td id="productionFlow">50</td>
                <td id="customerSatisfaction">50</td>
                <td id="score">0</td>
            </tr>
        </table>

        <div id="feedback"></div>
        <div id="question">Welcome to the Inventory Management Challenge!</div>
        <div id="choices">
            <button id="startButton">Start Game</button>
        </div>
    </div>

    <script>
        // Constants
        const INVENTORY_COST_THRESHOLD = 50000; // £50,000

        // Initial metrics
        const initialState = {
            inventoryCosts: 0,
            productionFlow: 50,
            customerSatisfaction: 50,
            score: 0,
        };

        // Game state
        let gameState = {
            inventoryCosts: initialState.inventoryCosts,
            productionFlow: initialState.productionFlow,
            customerSatisfaction: initialState.customerSatisfaction,
            score: initialState.score,
            currentScenario: 0
        };

        // Array of scenarios
        const scenarios = [
            {
                question: "Scenario 1: Overstock Dilemma\nThe warehouse is full, and another shipment is due soon. How do you handle the situation?",
                choices: [
                    {
                        text: "Option 1: Rent additional warehouse space.",
                        inventoryCostsChange: +5000,
                        productionFlowChange: +10,
                        customerSatisfactionChange: 0,
                        scoreChange: +5,
                        reasons: {
                            inventoryCostsChange: "for additional storage expenses.",
                            productionFlowChange: "as production continues smoothly.",
                            customerSatisfactionChange: "remains unaffected."
                        }
                    },
                    {
                        text: "Option 2: Delay incoming shipments and prioritize outgoing orders.",
                        inventoryCostsChange: 0,
                        productionFlowChange: -10,
                        customerSatisfactionChange: +5,
                        scoreChange: +3,
                        reasons: {
                            productionFlowChange: "due to delayed materials.",
                            customerSatisfactionChange: "as key orders are prioritized."
                        }
                    },
                    {
                        text: "Option 3: Offer discounts to clear out excess inventory.",
                        inventoryCostsChange: +2000,
                        productionFlowChange: +5,
                        customerSatisfactionChange: +10,
                        scoreChange: +7,
                        reasons: {
                            inventoryCostsChange: "from reduced profits.",
                            productionFlowChange: "as space is freed up.",
                            customerSatisfactionChange: "because customers appreciate discounts."
                        }
                    }
                ]
            },
            {
                question: "Scenario 2: Supplier Delay\nA key supplier is delayed, impacting production. How do you respond?",
                choices: [
                    {
                        text: "Option 1: Pay for expedited shipping from another supplier.",
                        inventoryCostsChange: +10000,
                        productionFlowChange: +15,
                        customerSatisfactionChange: +5,
                        scoreChange: +8,
                        reasons: {
                            inventoryCostsChange: "due to higher shipping costs.",
                            productionFlowChange: "as production resumes quickly.",
                            customerSatisfactionChange: "because orders are fulfilled on time."
                        }
                    },
                    {
                        text: "Option 2: Shift production to less resource-intensive products.",
                        inventoryCostsChange: 0,
                        productionFlowChange: -10,
                        customerSatisfactionChange: 0,
                        scoreChange: +2,
                        reasons: {
                            productionFlowChange: "due to changes in production plans.",
                            customerSatisfactionChange: "remains steady."
                        }
                    },
                    {
                        text: "Option 3: Reduce work hours until the shipment arrives.",
                        inventoryCostsChange: -5000,
                        productionFlowChange: -15,
                        customerSatisfactionChange: -10,
                        scoreChange: 0,
                        reasons: {
                            inventoryCostsChange: "from labor cost savings.",
                            productionFlowChange: "as production slows down.",
                            customerSatisfactionChange: "due to delayed orders."
                        }
                    }
                ]
            },
            {
                question: "Scenario 3: Demand Spike\nA sudden surge in customer demand leads to low stock levels. What’s your strategy?",
                choices: [
                    {
                        text: "Option 1: Increase production by ordering from a secondary supplier.",
                        inventoryCostsChange: +8000,
                        productionFlowChange: +20,
                        customerSatisfactionChange: +15,
                        scoreChange: +10,
                        reasons: {
                            inventoryCostsChange: "from higher supplier costs.",
                            productionFlowChange: "as production ramps up.",
                            customerSatisfactionChange: "due to meeting demand."
                        }
                    },
                    {
                        text: "Option 2: Implement order limits and prioritize key customers.",
                        inventoryCostsChange: 0,
                        productionFlowChange: +5,
                        customerSatisfactionChange: +5,
                        scoreChange: +5,
                        reasons: {
                            productionFlowChange: "with focused efforts.",
                            customerSatisfactionChange: "among key customers."
                        }
                    },
                    {
                        text: "Option 3: Delay orders to optimize inventory.",
                        inventoryCostsChange: -5000,
                        productionFlowChange: -10,
                        customerSatisfactionChange: -5,
                        scoreChange: +2,
                        reasons: {
                            inventoryCostsChange: "due to cost savings.",
                            productionFlowChange: "as production slows.",
                            customerSatisfactionChange: "from delayed deliveries."
                        }
                    }
                ]
            },
            {
                question: "Scenario 4: Production Line Failure\nA critical machine has broken down, halting production. How do you handle this emergency?",
                choices: [
                    {
                        text: "Option 1: Pay workers overtime to make up for the lost production.",
                        inventoryCostsChange: +6000,
                        productionFlowChange: +20,
                        customerSatisfactionChange: +5,
                        scoreChange: +8,
                        reasons: {
                            inventoryCostsChange: "from overtime pay.",
                            productionFlowChange: "as production catches up.",
                            customerSatisfactionChange: "since orders are fulfilled."
                        }
                    },
                    {
                        text: "Option 2: Rent temporary equipment until repairs are made.",
                        inventoryCostsChange: +10000,
                        productionFlowChange: +15,
                        customerSatisfactionChange: 0,
                        scoreChange: +6,
                        reasons: {
                            inventoryCostsChange: "for rental fees.",
                            productionFlowChange: "with temporary equipment.",
                            customerSatisfactionChange: "remains steady."
                        }
                    },
                    {
                        text: "Option 3: Reduce production quotas to avoid further strain.",
                        inventoryCostsChange: 0,
                        productionFlowChange: -10,
                        customerSatisfactionChange: -5,
                        scoreChange: +1,
                        reasons: {
                            productionFlowChange: "due to lowered quotas.",
                            customerSatisfactionChange: "from unmet demand."
                        }
                    }
                ]
            },
            {
                question: "Scenario 5: Warehouse Reorganization\nWarehouse space is running low, but production is steady. How do you manage inventory?",
                choices: [
                    {
                        text: "Option 1: Implement a just-in-time inventory system.",
                        inventoryCostsChange: +2000,
                        productionFlowChange: +10,
                        customerSatisfactionChange: +10,
                        scoreChange: +7,
                        reasons: {
                            inventoryCostsChange: "for system setup costs.",
                            productionFlowChange: "due to efficient stock management.",
                            customerSatisfactionChange: "as orders are fulfilled promptly."
                        }
                    },
                    {
                        text: "Option 2: Purchase additional storage units to manage overflow.",
                        inventoryCostsChange: +7000,
                        productionFlowChange: +5,
                        customerSatisfactionChange: +5,
                        scoreChange: +4,
                        reasons: {
                            inventoryCostsChange: "for purchasing storage units.",
                            productionFlowChange: "with added capacity.",
                            customerSatisfactionChange: "due to steady deliveries."
                        }
                    },
                    {
                        text: "Option 3: Outsource warehousing to a third-party provider.",
                        inventoryCostsChange: +10000,
                        productionFlowChange: +15,
                        customerSatisfactionChange: 0,
                        scoreChange: +6,
                        reasons: {
                            inventoryCostsChange: "from outsourcing fees.",
                            productionFlowChange: "as space constraints are lifted.",
                            customerSatisfactionChange: "remains steady."
                        }
                    }
                ]
            },
            {
                question: "Scenario 6: Seasonal Sales Boom\nA holiday season spike in demand is anticipated. What is your approach to stock management?",
                choices: [
                    {
                        text: "Option 1: Increase inventory in advance to meet expected demand.",
                        inventoryCostsChange: +12000,
                        productionFlowChange: +20,
                        customerSatisfactionChange: +15,
                        scoreChange: +10,
                        reasons: {
                            inventoryCostsChange: "from higher stocking costs.",
                            productionFlowChange: "to meet increased demand.",
                            customerSatisfactionChange: "as customers receive orders on time."
                        }
                    },
                    {
                        text: "Option 2: Only increase stock for high-demand products.",
                        inventoryCostsChange: +5000,
                        productionFlowChange: +10,
                        customerSatisfactionChange: +5,
                        scoreChange: +6,
                        reasons: {
                            inventoryCostsChange: "for selective stocking.",
                            productionFlowChange: "focused on key products.",
                            customerSatisfactionChange: "among high-demand items."
                        }
                    },
                    {
                        text: "Option 3: Keep inventory levels steady and risk potential stockouts.",
                        inventoryCostsChange: 0,
                        productionFlowChange: 0,
                        customerSatisfactionChange: -15,
                        scoreChange: +2,
                        reasons: {
                            productionFlowChange: "remains steady.",
                            customerSatisfactionChange: "due to unmet demand."
                        }
                    }
                ]
            },
            {
    question: "Scenario 7: New Product Launch\nThe factory is preparing for a new product launch. How do you adjust inventory levels?",
    choices: [
        {
            text: "Option 1: Increase inventory of raw materials to meet launch requirements.",
            inventoryCostsChange: +8000,
            productionFlowChange: +10, // Reduced from +15
            customerSatisfactionChange: +5, // Reduced from +10
            scoreChange: +7,
            reasons: {
                inventoryCostsChange: "from purchasing materials.",
                productionFlowChange: "as production ramps up.",
                customerSatisfactionChange: "due to successful launch."
            }
        },
        {
            text: "Option 2: Delay other products' production to focus on the new launch.",
            inventoryCostsChange: 0,
            productionFlowChange: +10,
            customerSatisfactionChange: +5,
            scoreChange: +5,
            reasons: {
                productionFlowChange: "focused on new product.",
                customerSatisfactionChange: "for the new market segment."
            }
        }
    ]
},
            {
    question: "Scenario 8: Inventory Surplus\nThe factory has overstocked on materials that are no longer in high demand. What’s your plan?",
    choices: [
        {
            text: "Option 1: Offer the surplus at a discount to clear out inventory.",
            inventoryCostsChange: +3000,
            productionFlowChange: +3, // Reduced from +5
            customerSatisfactionChange: +5, // Reduced from +10
            scoreChange: +6,
            reasons: {
                inventoryCostsChange: "from reduced profits.",
                productionFlowChange: "as space becomes available.",
                customerSatisfactionChange: "customers enjoy discounts."
            }
        },
        {
            text: "Option 2: Repurpose the materials for future projects.",
            inventoryCostsChange: 0,
            productionFlowChange: 0,
            customerSatisfactionChange: +5,
            scoreChange: +3,
            reasons: {
                productionFlowChange: "remains steady.",
                customerSatisfactionChange: "anticipating future products."
            }
        }
    ]
}

        ];

        // Function to calculate Inventory Costs Score
        function calculateInventoryCostScore(inventoryCosts) {
            if (inventoryCosts > INVENTORY_COST_THRESHOLD) {
                let excess = inventoryCosts - INVENTORY_COST_THRESHOLD;
                let points = -Math.round(excess / 1000);
                return points;
            } else {
                return 0;
            }
        }

        // Function to update game metrics and display
        function makeDecision(
            inventoryCostsChange = 0,
            productionFlowChange = 0,
            customerSatisfactionChange = 0,
            scoreChange = 0
        ) {
            gameState.inventoryCosts += inventoryCostsChange;
            gameState.productionFlow += productionFlowChange;
            gameState.customerSatisfaction += customerSatisfactionChange;
            gameState.score += scoreChange;

            // Ensure metrics stay within bounds (0 - 100)
            gameState.productionFlow = Math.max(0, Math.min(100, gameState.productionFlow));
            gameState.customerSatisfaction = Math.max(0, Math.min(100, gameState.customerSatisfaction));
            gameState.inventoryCosts = Math.max(0, gameState.inventoryCosts); // Prevent negative inventory costs

            updateDisplay();
        }

        // Function to display the game metrics on the page
        function updateDisplay() {
            document.getElementById('inventoryCosts').textContent = `£${gameState.inventoryCosts.toLocaleString()}`;
            document.getElementById('productionFlow').textContent = gameState.productionFlow;
            document.getElementById('customerSatisfaction').textContent = gameState.customerSatisfaction;
            document.getElementById('score').textContent = gameState.score;
        }

        // Function to display feedback after each decision
        function provideFeedback(choice) {
            let feedback = 'Previous Decision Outcome:<br><ul>';
            if (choice.inventoryCostsChange !== 0) {
                const costChangeText = choice.inventoryCostsChange > 0 ? `increased by £${choice.inventoryCostsChange.toLocaleString()}` : `decreased by £${Math.abs(choice.inventoryCostsChange).toLocaleString()}`;
                feedback += `<li>Inventory Costs ${costChangeText} ${choice.reasons.inventoryCostsChange}</li>`;
            }
            if (choice.productionFlowChange !== 0) {
                const flowChangeText = choice.productionFlowChange > 0 ? `increased by ${choice.productionFlowChange}` : `decreased by ${Math.abs(choice.productionFlowChange)}`;
                feedback += `<li>Production Flow ${flowChangeText} ${choice.reasons.productionFlowChange}</li>`;
            }
            if (choice.customerSatisfactionChange !== 0) {
                const satisfactionChangeText = choice.customerSatisfactionChange > 0 ? `increased by ${choice.customerSatisfactionChange}` : `decreased by ${Math.abs(choice.customerSatisfactionChange)}`;
                feedback += `<li>Customer Satisfaction ${satisfactionChangeText} ${choice.reasons.customerSatisfactionChange}</li>`;
            }
            feedback += '</ul>';

            document.getElementById('feedback').innerHTML = feedback;
        }

        // Function to handle player's decision
        function makeChoice(choiceIndex) {
            let choice = scenarios[gameState.currentScenario].choices[choiceIndex];
            makeDecision(
                choice.inventoryCostsChange || 0,
                choice.productionFlowChange || 0,
                choice.customerSatisfactionChange || 0,
                choice.scoreChange || 0
            );
            provideFeedback(choice);

            gameState.currentScenario++;
            if (gameState.currentScenario < scenarios.length) {
                displayScenario(gameState.currentScenario);
            } else {
                
();
            }
        }

        // Function to calculate the final score based on the scoring formula
        function calculateFinalScore() {
            // Inventory Costs Score
            let inventoryCostsScore = calculateInventoryCostScore(gameState.inventoryCosts);

            // Production Flow Score
            let productionFlowScore = Math.round((gameState.productionFlow - initialState.productionFlow) / 10) * 2;

            // Customer Satisfaction Score
            let customerSatisfactionScore = Math.round((gameState.customerSatisfaction - initialState.customerSatisfaction) / 5) * 3;

            // Balance Bonus
            let balanceBonus = 0;
            if (
                gameState.productionFlow >= 40 && gameState.productionFlow <= 70 &&
                gameState.customerSatisfaction >= 40 && gameState.customerSatisfaction <= 70
            ) {
                balanceBonus = 10;
            }

            // Imbalance Penalty
            let imbalancePenalty = 0;
            if (
                gameState.productionFlow < 30 || gameState.productionFlow > 90 ||
                gameState.customerSatisfaction < 30 || gameState.customerSatisfaction > 90
            ) {
                imbalancePenalty = -10;
            }

            // Final Score
            let finalScore = inventoryCostsScore + productionFlowScore + customerSatisfactionScore + balanceBonus + imbalancePenalty;

            return {
                finalScore,
                inventoryCostsScore,
                productionFlowScore,
                customerSatisfactionScore,
                balanceBonus,
                imbalancePenalty
            };
        }

        // Function to end the game and show final results with detailed feedback and feedforwardfunction endGame() {
    document.getElementById('question').textContent = "Game Over!";
    document.getElementById('choices').innerHTML = '';

    // Calculate final scores based on the scoring formula
    let scores = calculateFinalScore();

    // Ensure only one final score is shown
    let finalFeedback = `<strong>Final Score: ${scores.finalScore}</strong><br><br>`;
    finalFeedback += `<strong>Performance Breakdown:</strong><br><ul>`;
    finalFeedback += `<li>Inventory Costs: £${gameState.inventoryCosts.toLocaleString()}</li>`;
    finalFeedback += `<li>Production Flow: ${gameState.productionFlow}</li>`;
    finalFeedback += `<li>Customer Satisfaction: ${gameState.customerSatisfaction}</li>`;
    
    if (scores.balanceBonus > 0) {
        finalFeedback += `<li>Balance Bonus: +${scores.balanceBonus}</li>`;
    }
    if (scores.imbalancePenalty < 0) {
        finalFeedback += `<li>Imbalance Penalty: ${scores.imbalancePenalty}</li>`;
    }
    
    finalFeedback += `</ul><br>`;

// Update feedback based on final score
    if (scores.finalScore >= 80) {
        finalFeedback += "You demonstrated strong leadership skills, balancing all aspects effectively.<br><br>";
    } else if (scores.finalScore >= 60) {
        finalFeedback += "You performed well, with some areas needing improvement.<br><br>";
    } else {
        finalFeedback += "Significant improvements are needed in managing multiple areas of the operation.<br><br>";
    }

    // Show final feedback
    document.getElementById('feedback').innerHTML = finalFeedback;
}
            // Provide detailed feedback and feedforward based on final score
            if (scores.finalScore >= 80) {
                finalFeedback += "<strong>Excellent Performance!</strong> You have demonstrated outstanding operational management by keeping all metrics balanced and making strategic decisions that optimized inventory costs, maintained production flow, and maximized customer satisfaction.<br><br>";
                finalFeedback += "<strong>Feedforward:</strong> Continue applying these effective strategies to sustain high performance.";
            } else if (scores.finalScore >= 60) {
                finalFeedback += "<strong>Good Performance!</strong> You managed the factory well, though there's room for improvement in certain areas.<br><br>";
                finalFeedback += "<strong>Feedforward:</strong> Analyze which metrics lagged and focus on strategies to enhance them for even better results.";
            } else {
                finalFeedback += "<strong>Needs Improvement.</strong> There were significant challenges in balancing the factory's operations.<br><br>";
                finalFeedback += "<strong>Feedforward:</strong> Reflect on your decisions and consider alternative approaches to better manage inventory costs, production flow, and customer satisfaction.";
            }

            // Detailed Feedback for Each Metric
            finalFeedback += `<br><strong>Detailed Feedback:</strong><br>`;

            // Inventory Costs Feedback
            if (gameState.inventoryCosts <= INVENTORY_COST_THRESHOLD) {
                finalFeedback += `<strong>Inventory Costs:</strong> Excellent cost management! You kept inventory costs within reasonable limits, ensuring profitability without overspending on storage or procurement.<br>`;
            } else {
                finalFeedback += `<strong>Inventory Costs:</strong> Inventory costs exceeded the threshold, indicating overspending on storage or procurement. Consider strategies to optimize inventory levels and negotiate better supplier terms.<br>`;
            }

            // Production Flow Feedback
            if (gameState.productionFlow >= 80) {
                finalFeedback += `<strong>Production Flow:</strong> Exceptional production efficiency! Your operations ran smoothly with minimal bottlenecks.<br>`;
            } else if (gameState.productionFlow >= 60) {
                finalFeedback += `<strong>Production Flow:</strong> Good production flow with some minor disruptions. Continue monitoring for potential bottlenecks.<br>`;
            } else {
                finalFeedback += `<strong>Production Flow:</strong> Production flow was below optimal levels, suggesting inefficiencies or delays in operations. Focus on streamlining processes.<br>`;
            }

            // Customer Satisfaction Feedback
            if (gameState.customerSatisfaction >= 80) {
                finalFeedback += `<strong>Customer Satisfaction:</strong> Outstanding! Customers are highly satisfied with your service and order fulfillment.<br>`;
            } else if (gameState.customerSatisfaction >= 60) {
                finalFeedback += `<strong>Customer Satisfaction:</strong> Good! Most customers are satisfied, but there's room to improve order accuracy and timeliness.<br>`;
            } else {
                finalFeedback += `<strong>Customer Satisfaction:</strong> Needs improvement. Customer satisfaction is low, possibly due to delays or inaccuracies in orders. Enhance inventory forecasting and order management.<br>`;
            }

            document.getElementById('feedback').innerHTML = finalFeedback;
        }

        // Function to display a scenario
        function displayScenario(index) {
            let scenario = scenarios[index];
            document.getElementById('question').textContent = scenario.question;
            
            let choicesDiv = document.getElementById('choices');
            choicesDiv.innerHTML = '';
            
            scenario.choices.forEach((choice, i) => {
                let button = document.createElement('button');
                button.textContent = choice.text;
                button.onclick = function() { makeChoice(i); };
                choicesDiv.appendChild(button);
            });
        }

        // Function to start the game
        function startGame() {
            // Hide the Start Game button
            document.getElementById('startButton').style.display = 'none';

            // Display the first scenario
            displayScenario(gameState.currentScenario);
        }

        // Start the game when the Start Game button is clicked
        window.onload = function() {
            updateDisplay();
            document.getElementById('startButton').onclick = function() {
                startGame();
            };
        };
    </script>
</body>
</html>
